# 쿠키 / 세션



### 쿠키 (Cookie)

- 서버 측에서 클라이언트 측에 상태 정보를 저장하고 추출하기 위한 메커니즘
- 서버에서 생성하여, 클라이언트 측에 저장됨
- 서버에 요청할 때마다 쿠키의 속성 값을 참조하거나 변경
- 크기는 4kb로 용량 제한
- 클라이언트에 저장되므로 보안상의 문제 발생
- 따라서 민감한 정보는 쿠키 내에 저장하지 않음
- 쿠키는 사용자가 거부할 수 있으며 256문자 이하의 text 데이터만 저장

 

### 세션 (Session)

- 클라이언트와 웹 서버 간에 네트워크로 연결이 지속적으로 유지되고 있는 상태
- 쿠키와 마찬가지로 서버와의 관계를 유지하기 위한 수단
- 쿠키와 달리 클라이언트에 저장되는 것이 아니라 서버 상에 객체로 존재
- 따라서 세션은 서버에서만 접근이 가능하여 보안이 좋음
- 서버에서 사용자의 정보를 유지 관리하는데 사용
- 사용자 인증 후 여러 페이지에 걸쳐 정보를 공유해서 사용할 수 있도록 해 줌
- 객체형을 포함한 거의 모든 형태의 데이터 저장도 가능
- Session은 서버측에서만 설정이 가능 
  - HttpSession session;
- 세션은 브라우저 당 한개씩 생성

 

#### 세션 ID

- 클라이언트가 처음 접속하면 서버(컨테이너)로부터 유일한 ID를 부여 받게 되는데 이를 세션 ID라고 하고 클라이언트가 재 접속했을 때 클라이언트 구분하기 위한 수단

 

#### 세션 관련 메소드

- 세션 관련 메소드
  - setAttribue(이름, 값) : 세션 이름과 값 설정
    - session.setAttribute(“sid”, memId);
  - getAttribute(이름) : 이름에 해당되는 값 반환
  - invalidate() : 실행 중인 세션 종료. 모든 데이터 삭제
    - 로그아웃 시 사용

- 세션 설정
  - 컨트롤러에서 session.setAttribute(“sid”, memId);
- 세션 값 알아오기
  - JSP 페이지에서 ${sessionScope.sid}
- 세션 종료 (무효화)
  - session.invalidate()
- 웹 브라우저 종료
  - 또는 설정된 유효 기간이 만료되면 종료